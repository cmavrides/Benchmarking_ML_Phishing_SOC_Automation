# Datasets

This project unifies two complementary phishing corpora to provide broader coverage of email-based and free-text phishing content.

## Source Datasets

| Dataset | Modality | Size (approx.) | Format | License |
|---------|----------|----------------|--------|---------|
| [zefang-liu/phishing-email-dataset](https://huggingface.co/datasets/zefang-liu/phishing-email-dataset) | Email bodies | 20k | CSV | CC BY-NC 4.0 |
| [huynq3Cyradar/Phishing_Detection_Dataset](https://huggingface.co/datasets/huynq3Cyradar/Phishing_Detection_Dataset) | Mixed email & snippets | 23k | Parquet | Research only |

### zefang-liu/phishing-email-dataset

- Primarily plain-text email bodies with minimal HTML markup.
- Labels provided as the string classes `"phishing"` and `"legitimate"`.
- Includes optional subject lines for a subset of records.

### huynq3Cyradar/Phishing_Detection_Dataset

- Contains a mixture of raw HTML emails and text fragments captured by SOC analysts.
- Labels are binary integers (`1` for phishing, `0` for legitimate).
- Subject line availability varies; when absent the value is `null`.

## Unified Schema

All intermediate and processed datasets adhere to the following record schema (expressed in JSON-like notation):

```json
{
  "id": "<string>",
  "source_dataset": "zefang-liu" | "cyradar",
  "source_type": "email" | "text",
  "subject": "<optional string>",
  "body": "<string>",
  "body_is_html": true | false,
  "body_clean": "<string>",
  "label": 0 | 1,
  "split": "train" | "val" | "test" | null
}
```

### Field Notes

- `id`: Stable identifier generated by the source dataset or derived from hashing the body text.
- `source_dataset`: Tag used for audit trails, deduplication rules, and stratified splits.
- `source_type`: Indicates whether the message originates from an email corpus or generic text snippet collection.
- `subject`: Optional subject line; may be missing for free-text records.
- `body`: Original raw body (plain text or HTML) persisted for provenance.
- `body_is_html`: Boolean flag derived during ingestion. Helps decide whether HTML stripping is required.
- `body_clean`: Text after cleaning (HTML removal, normalization). Used for downstream modeling and deduplication.
- `label`: Normalized binary label (`1` phishing, `0` legitimate). String categories and numeric representations are mapped consistently.
- `split`: Assigned during stratified splitting. Raw datasets keep this value `null` until the preprocessing CLI executes.

### Storage Layout

```
data/
├── raw/        # Hugging Face downloads persisted as CSV/Parquet
├── interim/    # Cleaned but unsplit copies (per-source and combined)
└── processed/  # Final merged dataset with train/val/test partitions
```

Large artifacts are excluded from version control. Generated parquet and CSV files are deterministic, enabling reproducible experiments across environments.
